@namespace MoneyManager.Shared.Components

<HeaderComponent Title=@Title
                 SubTitle=@SubTitle>
    <LeftContent>
        @if (ViewMode == ViewModeEnum.View)
        {
            <ButtonComponent ButtonType=@ButtonTypeEnum.Edit
                             OnClick=@EditOnClick
                             IsVisible=@EditOnClick.HasDelegate />
        }
        else
        {
            <ButtonComponent ButtonType=@ButtonTypeEnum.Save
                             OnClick=@SaveOnClick
                             IsVisible=@SaveOnClick.HasDelegate />

            <ButtonComponent ButtonType=@ButtonTypeEnum.Cancel
                             OnClick=@CancelOnClick
                             IsVisible=@CancelOnClick.HasDelegate />

        }
    </LeftContent>
    <RightContent>
        @if (ViewMode == ViewModeEnum.Edit && DeleteOnClick.HasDelegate)
        {
            <ButtonComponent ButtonType=@ButtonTypeEnum.Delete
                             OnClick=@DeleteOnClick
                             IsVisible=@DeleteOnClick.HasDelegate />
        }
        @if (ExtraRightContent !=null)
        {
            @ExtraRightContent
        }
    </RightContent>
</HeaderComponent>

@code {
    [Parameter] public string Title { get; set; } = null!;
    [Parameter] public string SubTitle { get; set; } = null!;

    [Parameter] public ViewModeEnum ViewMode { get; set; } = ViewModeEnum.View;

    [Parameter] public EventCallback<MouseEventArgs> EditOnClick { get; set; }
    [Parameter] public EventCallback<MouseEventArgs> SaveOnClick { get; set; }
    [Parameter] public EventCallback<MouseEventArgs> DeleteOnClick { get; set; }
    [Parameter] public EventCallback<MouseEventArgs> CancelOnClick { get; set; }

    [Parameter] public RenderFragment ExtraRightContent { get; set; } = null!;
}
